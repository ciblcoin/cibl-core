cibl-core/
├── anchor/             # کدهای بلاکچین (Rust)
├── oracle-worker/      # کدهای داور (Cloudflare Worker)
└── supabase/           # <--- اینجا بسازید
    └── functions/
        └── push/
            └── index.ts  # اسکریپت اصلی ارسال نوتیفیکیشن




برای اینکه آن «دفترچه راهنما» یا همان فایل IDL ساخته شود، باید کدهای Rust شما توسط کامپایلر Anchor بررسی و ترجمه شوند. این کار در ریپازیتوری cibl-core انجام می‌شود.
پیش‌نیاز این کار، نصب بودن Rust، Solana CLI و Anchor CLI روی سیستم شماست.
مراحل اجرای Build در پروژه Anchor:
۱. ورود به پوشه پروژه
ابتدا در ترمینال (Terminal) به پوشه‌ای که فایل Anchor.toml در آن قرار دارد بروید:


cd cibl-core/anchor


2
. اجرای دستور Build
​این دستور تمام کدهای Rust شما را بررسی کرده و فایل‌های مورد نیاز برای اتصال به بلاکچین را می‌سازد:

anchor build

نکته: اگر اولین بار است این دستور را می‌زنید، ممکن است چند دقیقه طول بکشد چون باید کتابخانه‌های Rust را دانلود و کامپایل کند.
۳. استخراج آدرس برنامه (Program ID)
بعد از بیلد موفق، Anchor یک آدرس اختصاصی برای قرارداد شما می‌سازد. برای دیدن آن دستور زیر را بزنید:

anchor keys list

این آدرس را کپی کنید و در دو جا جایگزین کنید:
​در فایل lib.rs داخل declare_id!("آدرس_جدید");
​در فایل Anchor.toml بخش [programs.mainnet] یا [programs.localnet]
​(اگر آدرس را تغییر دادید، یک بار دیگر دستور anchor build را بزنید تا IDL نهایی با آدرس درست ساخته شود).
​۴. حالا فایل کجاست؟ (مسیر دقیق)
​پس از پایان موفقیت‌آمیز دستور بالا، به مسیر زیر بروید:
cibl-core/anchor/target/idl/cibl_gamble.json
​این همان فایلی است که باید به ریپازیتوری موبایل (Cibl) منتقل کنید